# Polymarket Arbitrage Bot v2.0 — Environment Variables
# Copy this file to .env and fill in your values.
# NEVER commit .env to version control.

# Your Ethereum private key (hex, with 0x prefix).
# This key must control the wallet you use on Polymarket.
PRIVATE_KEY=0xYOUR_PRIVATE_KEY_HERE

# Your Polymarket "funder" address — the proxy wallet Polymarket assigns to your EOA.
# Find it at https://polymarket.com (Settings → Deposit Address) or derive via the client.
FUNDER_ADDRESS=0xYOUR_FUNDER_ADDRESS_HERE

# CLOB API host (do not change unless you know what you're doing)
CLOB_HOST=https://clob.polymarket.com

# Polygon chain ID (137 = mainnet)
CHAIN_ID=137

# --- Builder Program (fee reductions + rewards) ---
# Register at https://polymarket.com/settings?tab=builder
# Leave blank if not registered.
BUILDER_API_KEY=
BUILDER_SECRET=
BUILDER_PASSPHRASE=

# --- Strategy Parameters ---

# Minimum profit margin (after fees) to execute an arbitrage, as a fraction of $1.
# Lowered from 0.01 because most markets have 0% fees now!
MIN_PROFIT_MARGIN=0.005
# Minimum return on capital deployed per arb (profit / cost).
MIN_ROI=0.004
# Reject opportunities with weak immediate-fill confidence.
MIN_FILL_CONFIDENCE=0.35

# Maximum amount (in USDC) to risk per single arbitrage trade.
MAX_POSITION_SIZE=50.0

# Maximum total exposure across all open arb positions (in USDC).
MAX_TOTAL_EXPOSURE=500.0
# Maximum successful arbs to execute per scan cycle.
MAX_TRADES_PER_CYCLE=3

# How often (in seconds) to scan for arbitrage opportunities.
# Only used in polling mode. WebSocket mode scans every 2 seconds.
SCAN_INTERVAL=10

# Minimum order book depth (number of shares available on the ask side) to consider.
MIN_BOOK_DEPTH=20

# --- WebSocket ---
# Enable real-time WebSocket data (recommended — ~100ms latency vs 10-15s polling)
WS_ENABLED=true
WS_HOST=wss://ws-subscriptions-clob.polymarket.com/ws/market

# --- Heartbeat (Dead Man's Switch) ---
# If enabled, auto-cancels ALL orders if bot crashes (no heartbeat within 10s)
HEARTBEAT_ENABLED=true
HEARTBEAT_INTERVAL=5

# --- Execution ---
# Fill-Or-Kill: orders fill completely or not at all (no partial fill risk)
USE_FOK_ORDERS=true
# Batch: submit all arb legs in a single API call (reduces race conditions)
USE_BATCH_ORDERS=true
# GTD: orders auto-expire after N seconds (0 = use GTC, no expiry)
GTD_EXPIRY_SECONDS=30
# Require every arb leg to be immediately matched, otherwise abort/cancel
REQUIRE_FULL_MATCH=true
# Back off a market after failed execution to avoid repeated churn
FAILURE_COOLDOWN_SECONDS=20

# --- Pre-flight ---
# Check USDC balance before each trade
BALANCE_CHECK_ENABLED=true

# Dry run mode — if true, detect arbs but don't execute trades.
DRY_RUN=true

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO
